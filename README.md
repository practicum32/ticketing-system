# Ticketing System - מערכת ניהול פניות

---

## 🇮🇱 Hebrew / עברית

### תיאור הפרויקט

מערכת בסיסית ומקצועית לניהול פניות שירות לקוחות. המערכת מאפשרת ללקוחות לפתוח פניות, לצפות ברשימת הפניות ולסגור אותן.

### תכונות עיקריות

- פתיחת פניות חדשות עם נושא, תיאור ומזהה משתמש
- צפייה ברשימת כל הפניות
- סגירת פניות
- סינון פניות לפי סטטוס: פתוחות, סגורות או הכל
- ממשק משתמש מודרני ומעוצב
- תמיכה מלאה בעברית עם כיוון ימין לשמאל

### טכנולוגיות

**צד שרת:**
- .NET 8 Minimal API
- C#
- אחסון בזיכרון

**צד לקוח:**
- React 18 עם TypeScript
- Vite
- CSS3 מודרני
- תמיכה מלאה ב-RTL

### הנחיות הפעלה

#### דרישות מקדימות
- Node.js גרסה 18 ומעלה
- .NET SDK 8.0

#### שלב 1: הפעלת השרת
```bash
cd server/Ticketing.Api
dotnet run --urls "http://localhost:5199"
```

השרת יהיה זמין בכתובת: http://localhost:5199

#### שלב 2: הפעלת הלקוח
בטרמינל נפרד:
```bash
cd client
npm install
npm run dev
```

האפליקציה תהיה זמינה בכתובת: http://localhost:5173

### מבנה הפרויקט

```
client/
├── src/
│   ├── api/              # קריאות לשרת
│   │   └── ticketsApi.ts
│   ├── components/       # קומפוננטים
│   │   ├── FilterBar.tsx
│   │   ├── TicketForm.tsx
│   │   └── TicketList.tsx
│   ├── models/           # טיפוסים
│   │   └── Ticket.ts
│   ├── App.tsx          # קומפוננט ראשי
│   ├── main.tsx         # נקודת כניסה
│   ├── styles.css       # עיצוב
│   └── vite-env.d.ts    # הגדרות TypeScript
├── index.html
├── package.json
├── vite.config.ts
└── .env
```

### ממשק API

**קבלת כל הפניות**
```
GET /tickets
```

**יצירת פנייה חדשה**
```
POST /tickets
Body: { "userId": number, "subject": string, "description": string }
```

**סגירת פנייה**
```
PUT /tickets/{id}/close
```

### החלטות עיצוב

- **ניווט פשוט:** מעבר בין מסך רשימה למסך יצירת פנייה למניעת בלבול
- **הבחנה ויזואלית:** פניות פתוחות בכחול, פניות סגורות באפור
- **הפרדת שכבות:** הפרדה ברורה בין רכיבים, שירותים ומודלים
- **אחסון בזיכרון:** ללא בסיס נתונים בהתאם לדרישות

### 🔐 הערה חשובה - מזהה משתמש (User ID)

**במערכת אמיתית:**  
במערכת ייצור, מזהה המשתמש היה מתקבל אוטומטית ממערכת ההתחברות (Authentication). המשתמש היה מתחבר עם שם משתמש וסיסמה, והמערכת הייתה יודעת את זהותו מה-session או ה-token.

**בתרגיל הזה:**  
בהתאם לדרישות התרגיל - "אין צורך לממש התחברות או הרשאות גישה" - השדה UserId בטופס הוא **פתרון זמני** שמאפשר לעמוד בדרישה של שדה UserId במודל, ללא מערכת אימות מלאה.

**שיפור אפשרי:**  
במימוש עתידי, ניתן להחליף את השדה הידני ב:
- מערכת התחברות (JWT Token / Session)
- שמירת המשתמש המחובר ב-LocalStorage
- שליחה אוטומטית של ה-UserId בכל בקשה



**עברית:**
- **אחסון זמני:** כל הנתונים נשמרים בזיכרון ונמחקים כשהשרת נסגר
- **ללא אימות:** כל משתמש יכול לראות ולסגור את כל הפניות
- **ללא עריכה:** אין אפשרות לערוך פנייה קיימת, רק לסגור אותה
- **מזהה משתמש ידני:** המשתמש צריך להזין את ה-ID שלו בעצמו


### 🔧 Troubleshooting / פתרון בעיות

**

**בעיה: "npm is not recognized"**
- **פתרון:** יש להתקין Node.js מ-https://nodejs.org או לרענן את משתני הסביבה:
```powershell
$env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")
```

**בעיה: "Port 5199 already in use"**
- **פתרון:** יש תהליך אחר שמשתמש בפורט. למצוא ולסגור:
```powershell
netstat -ano | Select-String "5199"
Stop-Process -Id <process-id> -Force
```

**בעיה: CORS errors בדפדפן**
- **פתרון:** לוודא שהשרת רץ על פורט 5199 והלקוח על פורט 5173. קובץ Program.cs כבר מכיל הגדרות CORS מתאימות.

**בעיה: הנתונים נעלמים**
- **הסבר:** זה נורמלי - הנתונים בזיכרון ונמחקים כשהשרת נסגר. זו לא באג!


